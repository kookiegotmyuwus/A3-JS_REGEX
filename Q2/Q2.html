<!DOCTYPE html>
<html>
<head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <style>
            
            #table{
                
                width:100vw;
            }
            #heading{
                background-color: white;
                height : 50px;
            }
            
        </style>
    </head>
<body>

<h2>The XMLHttpRequest Object</h2>

<button type="button" onclick="loadDoc()">Request data</button>

<p id="demo"></p>
<h1>Avatar</h1>
<table id="table">
  <tr id = heading>
    <th>ID</th>
    <th>First Name</th>
    <th>Last Name</th>
    <th>Email</th>
    <th>Avtar</th>
  </tr>
</table>



<script>
function loadDoc() {

  
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
      var urldata=JSON.parse(this.responseText);
      console.log(urldata);
      var urldata_data=urldata.data;
      console.log(urldata.data[0].id);

       document.getElementById("demo").innerHTML=urldata.data[0].id;

    var table = document.getElementById("table");
    for(var i = 0 ; i <urldata_data.length ; i++ )
    {
     
      var row = '<tr><th>'+urldata_data[i].id+'</th><th>'+urldata_data[i].first_name+'</th><th>'+urldata_data[i].last_name+'</th><th>'+urldata_data[i].email+'</th><th> <img src ='+urldata.data[i].avatar+' img ></th></tr';
      table.innerHTML += row ;
    }

    }
  }

  xhttp.open("GET", "https://reqres.in/api/users", true);
  xhttp.send();
 
}
</script>

</body>
</html>
